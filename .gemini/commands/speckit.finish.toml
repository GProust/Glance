description = "Clean up the feature development cycle by merging branches and removing local/remote feature branches."

prompt = '''
---
description: Clean up the feature development cycle by merging branches and removing local/remote feature branches.
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

## Outline

1. **Verify environment**:
   - Ensure the current branch is a feature branch (starts with a number like `001-`).
   - Run `git branch --show-current` to confirm.

2. **Check PR status**:
   - Run `gh pr view --json state,mergedAt,baseRefName`.
   - If the PR is not merged, warn the user and ask for confirmation before proceeding.

3. **Merge and cleanup**:
   - Switch to the base branch (usually `main` or `develop`).
   - Pull latest changes.
   - If not already merged via GitHub, merge the feature branch locally.
   - Delete the local feature branch: `git branch -d [branch-name]`.
   - Delete the remote feature branch: `git push origin --delete [branch-name]`.

4. **Report**: Confirm cleanup complete and list deleted branches.
'''
